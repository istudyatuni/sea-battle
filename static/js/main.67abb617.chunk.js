(this["webpackJsonpsea-battle"]=this["webpackJsonpsea-battle"]||[]).push([[0],[,,function(e,t,a){},,,function(e,t,a){},,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),i=a.n(c),l=(a(13),a(3)),s=a.n(l),o=a(7),u=a(1),m=(a(15),a(5),function(e){var t=e.count,a=e.name;return r.a.createElement("div",{className:"CounterTab"},r.a.createElement("p",null,t),r.a.createElement("p",null,a))}),f=function(e){var t=e.player1,a=e.player2;return r.a.createElement("div",{className:"Scoreboard"},r.a.createElement(m,{count:t,name:"Player 1"}),r.a.createElement(m,{count:a,name:"Player 2"}))},p=(a(2),function(e){var t;return t="assets/"+(t=!0===e.isKill?"Hit":"Miss")+"Small.png",r.a.createElement("div",{className:"Indicator"},r.a.createElement("img",{src:t,alt:""}))}),h=function(e){var t=e.i,a=e.name,c=e.count,i=e.kill,l=e.changeKill,s="assets/"+a+"Shape.png",o=[];function u(){for(var e=[],t=0;t<i;t++)e.push(r.a.createElement(p,{isKill:!0}));for(var a=i;a<c;a++)e.push(r.a.createElement(p,{isKill:!1}));return e}return Object(n.useEffect)((function(){o=u()}),[i]),o=u(),r.a.createElement("div",{className:"Ship"},r.a.createElement("img",{src:s,alt:a}),r.a.createElement("p",null,c),o,r.a.createElement("button",{onClick:function(){l(t,1)}},"+"),r.a.createElement("p",null,i))},v=["Aircraft","Battleship","Cruiser","Submarine","Carrier"],E=function(){var e=Object(n.useState)([0,0,0,0,0]),t=Object(u.a)(e,2),a=t[0],c=t[1];function i(e,t){var n=a;n[e]=(n[e]+1)%(e+2),c(n)}function l(){for(var e=[],t=0;t<5;t++)e.push(r.a.createElement(h,{key:[t,a[t]].toString(),i:t,name:v[t],count:t+1,kill:a[t],changeKill:i}));return e}return Object(n.useEffect)((function(){l()}),[a]),r.a.createElement("div",{className:"Shipsboard"},l())},d=r.a.memo((function(e){var t=e.i,a=e.isClear,c=e.gameMode,i=e.setShip;function l(e){var n,l;return 0===c?!1===e?(n=function(e,t){return!1===e&&!1===t?"Ship":"Empty"}(e,a),i(t)):n="Empty":1===c&&(n=!1===e?1===(l=1)?"Miss":2===l?"Hit":"Empty":"Empty"),n="assets/"+n+".png",r.a.createElement("img",{src:n,alt:"",width:"100%",height:"100%"})}var s=Object(n.useState)(l(!0)),o=Object(u.a)(s,2),m=o[0],f=o[1];return r.a.createElement("div",{className:"Cell",onClick:function(){return f(l(!1))}},m)})),b=r.a.memo((function(e){e.i;var t=e.isClear,a=e.gameMode,c=e.ship,i=Object(n.useState)(c);function l(e){c[e]=!1===t}c=i[0];var s=function(){for(var e=[],n=0;n<10;n++)e.push(r.a.createElement(d,{i:n,isClear:t,gameMode:a,setShip:l}));return e}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"CellRow"},s))})),g=(a(16),function(e){var t=e.isClear,a=e.gameMode,n=e.ships;var c=function(){for(var e=[],c=0;c<10;c++)e.push(r.a.createElement(b,{i:c,isClear:t,gameMode:a,ship:n[c]}));return e}();return r.a.createElement("div",{className:"Battlefield"},c)}),y=function(){for(var e=[],t=0;t<10;t++){for(var a=[],n=0;n<10;n++)a.push(!1);e.push(a)}return e},S=function(e){for(var t=[],a=0;a<10;a++){for(var n=[],r=0;r<10;r++)!0===e[a][r]?n.push(1):n.push(0);t.push(n)}return t},j=function(e){if(1===e)return{display:"none"}},O=function(){var e=Object(n.useState)(0),t=Object(u.a)(e,2),a=t[0],c=(t[1],Object(n.useState)(0)),i=Object(u.a)(c,2),l=i[0],m=(i[1],Object(n.useState)(0)),p=Object(u.a)(m,2),h=p[0],v=p[1],d=Object(n.useState)(y()),b=Object(u.a)(d,2),O=b[0],k=b[1],C=Object(n.useState)(!1),w=Object(u.a)(C,2),N=w[0],M=w[1],x=function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S(O),a=0,e.next=4,fetch("/ships",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ships:t})});case 4:if((n=e.sent).status!==a){e.next=10;break}return console.log("Server unavailable"),e.abrupt("return",Promise.reject(new Error("Server unavailable")));case 10:if(!n.ok){e.next=15;break}return e.next=13,n.json();case 13:r=e.sent,r.id;case 15:k(y()),v(1),M(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"inline-board"},r.a.createElement(f,{player1:a,player2:l}),r.a.createElement(E,null),r.a.createElement("button",{onClick:x,style:j(h)},"Go battle"),r.a.createElement("button",{onClick:function(){return M(!N)},style:j(h)},"Fix ships"),r.a.createElement("i",{style:j(h)},!0===N?"Enabled":"Disabled"),r.a.createElement("p",{style:j(h)},"You can fix ships if place them wrong"),r.a.createElement("p",{style:j((h+1)%2),onClick:function(){return v(0)}},"Good game!")),r.a.createElement("div",{className:"inline-field"},r.a.createElement(g,{key:h.toString(),isClear:N,gameMode:h,ships:O})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.67abb617.chunk.js.map